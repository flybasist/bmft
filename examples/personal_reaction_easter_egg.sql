-- Пример персональной реакции (пасхалка из RTS bot)
-- Реакция для конкретного пользователя на любые фото

-- Вариант 1: Через SQL (прямая вставка в БД)
-- Используется для миграции существующих пасхалок из RTS bot в BMFT

INSERT INTO keyword_reactions (
    chat_id,           -- ID чата (из RTS bot: -1001637543078)
    thread_id,         -- 0 = для всего чата, >0 = для конкретного топика
    user_id,           -- ID пользователя для персональной реакции (303724504 = @Astrolux)
    pattern,           -- Пустая строка = срабатывает на любое сообщение этого юзера
    is_regex,          -- false для точного совпадения
    response_type,     -- 'text' для текстового ответа
    response_content,  -- Текст ответа
    description,       -- Описание пасхалки
    cooldown,          -- 86400 секунд = 24 часа (1 раз в день)
    daily_limit,       -- 0 = без лимита
    delete_on_limit,   -- false = не удалять сообщение
    is_active          -- true = активна
) VALUES (
    -1001637543078,     -- Замените на ваш chat_id
    0,                  -- Для всего чата
    303724504,          -- user_id @Astrolux
    '',                 -- Пустой паттерн = любое сообщение
    false,
    'text',
    '@Astrolux, опять ты что то спылесосил!',
    'Пасхалка на фото от @Astrolux',
    86400,              -- 1 раз в день
    0,
    false,
    true
);

-- Вариант 2: Через команду бота (рекомендуется для новых пасхалок)
-- Отправить в Telegram:
-- /addreaction user:303724504 "" "@Astrolux, опять ты что то спылесосил!" "Пасхалка"

-- ВАЖНО: Пустой паттерн ("") означает что реакция срабатывает на ЛЮБОЕ сообщение пользователя
-- Если нужно реагировать только на фото - это надо обрабатывать в коде (пока не реализовано)

-- Проверка добавленной реакции:
SELECT 
    id,
    chat_id,
    thread_id,
    user_id,
    pattern,
    response_type,
    response_content,
    description,
    cooldown,
    is_active
FROM keyword_reactions
WHERE user_id = 303724504;

-- Удаление пасхалки:
-- DELETE FROM keyword_reactions WHERE user_id = 303724504 AND chat_id = -1001637543078;
-- Или через команду: /removereaction <ID>
