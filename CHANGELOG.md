# Changelog

–í—Å–µ –∑–Ω–∞—á–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ BMFT –±—É–¥—É—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

–§–æ—Ä–º–∞—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
–∏ –ø—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç [Semantic Versioning](https://semver.org/lang/ru/).

---

## [Unreleased]

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è Limiter (–ª–∏–º–∏—Ç—ã –Ω–∞ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞, VIP —Å–∏—Å—Ç–µ–º–∞)
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è Reactions (regex —Ä–µ–∞–∫—Ü–∏–∏, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è)
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è Statistics (–¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º)
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è Scheduler (–≥–∏–±–∫–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞ –ë–î)

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- **Webhook Mode:** –ü–µ—Ä–µ—Ö–æ–¥ —Å Long Polling –Ω–∞ Webhook –¥–ª—è production
- **Redis:** –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Grafana:** –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **CI/CD:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –¥–µ–ø–ª–æ–π

---

## [0.6.0] - 2025-10-06

### Changed
- üöÄ **Bot Init:** `internal/bot/init.go` ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram –±–æ—Ç–∞
- üìù **Logging:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å —É—Ä–æ–≤–Ω—è–º–∏ (ERROR, WARN, INFO, DEBUG)

### Added
- **Limiter:**
  - –õ–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, —Å—Ç–∏–∫–µ—Ä—ã, –≥–æ–ª–æ—Å–æ–≤—ã–µ)
  - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`/mycontentusage`)
  - –ö–æ–º–∞–Ω–¥—ã: `/setcontentlimit`, `/mycontentusage`, `/listcontentlimits`

- **Reactions:**
  - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (welcome/goodbye messages)
  - –°–ª—É—á–∞–π–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã/—Ñ–æ—Ç–æ –Ω–∞ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –í–µ—Ä—Å–∏–æ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ `/version`

- **Statistics:**
  - –ö–æ–º–∞–Ω–¥—ã: `/activestats`, `/totalmessages`

### Fixed
- ‚úÖ **Graceful Shutdown:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å context.Context
- ‚úÖ **Telegram Polling:** –£–±—Ä–∞–Ω legacy `bot.Start()`

---

## [0.5.0] - 2025-10-05

### Added
- üß© **Module Registry:** Plugin-based –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –º–æ–¥—É–ª–µ–π –≤ `internal/modules/registry.go`
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `RegisterAllModules()`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥—É–ª–µ–π: `limiter`, `reactions`, `statistics`, `scheduler`, `chatexport`

- **Violations (Regex Reactions):**
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ regex-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Å violation=21
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Å–ª–æ–≤–∞/—Ñ—Ä–∞–∑—ã
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `db.GetAllActiveRegexPatterns()`

- **Edit Handler:**
  - –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤, regex-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### Changed
- üìÅ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:
  - `internal/bot/` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram-–±–æ—Ç–∞
  - `internal/handlers/` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
  - `internal/modules/` ‚Äî –º–æ–¥—É–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

## [0.4.1] - 2025-10-04

### Fixed
- ‚úÖ SQL —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –æ—à–∏–±–∫–∞ –≤ `limiter_config` UNIQUE constraint
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π volume mount –¥–ª—è `migrations/`

### Known Issues
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç VIP —Å–∏—Å—Ç–µ–º–∞ (–æ–±—Ö–æ–¥ –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

---

## [0.4.0] - 2025-10-04

### Added
- ‚úÖ **–ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** ‚Äî –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

- **Scheduler (–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á):**
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `file_id` –¥–ª—è —Å—Ç–∏–∫–µ—Ä–æ–≤/—Ñ–æ—Ç–æ (–±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª—ã)
  - –ö–æ–º–∞–Ω–¥—ã: `/schedule`, `/listtasks`, `/deletetask`
  - Cron-—Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á

- **ChatExport (–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö):**
  - –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–∞—Ç–∞ –≤ CSV
  - –ö–æ–º–∞–Ω–¥–∞: `/exportchat`

- **Limiter (–õ–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç):**
  - –õ–∏–º–∏—Ç—ã –Ω–∞ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–µ–∫—Å—Ç, —Å—Ç–∏–∫–µ—Ä—ã, —Ñ–æ—Ç–æ, –≥–æ–ª–æ—Å–æ–≤—ã–µ)
  - –ö–æ–º–∞–Ω–¥—ã: `/setcontentlimit`, `/mycontentusage`, `/listcontentlimits`

- **Statistics (–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞):**
  - –ö–æ–º–∞–Ω–¥—ã: `/activestats`, `/totalmessages`

### Changed
- üöÄ **Docker Compose:** –û–±–Ω–æ–≤–ª—ë–Ω `docker-compose.yml` —Å –∞–≤—Ç–æ–º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- üìù **Migrations:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SQL-–º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- üîß **Config:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `config/config.json` —Å database credentials

### Technical Implementation
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PostgreSQL 16
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ volume mount
- Graceful shutdown —Å `context.Context`

---

## [0.3.1] - 2025-10-03

### Fixed
- ‚úÖ Docker volume mount –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `host.docker.internal`

---

## [0.3.0] - 2025-10-03

### Added
- üìÅ **migrations/:** SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã –ë–î
- üìù **migrations/README.md:** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∞–≤—Ç–æ–º–∏–≥—Ä–∞—Ü–∏—è–º
- üê≥ **docker-compose.yml:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å PostgreSQL 16

- **Scheduler Module:**
  - `/schedule <time> <message>` ‚Äî –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
  - `/schedule <cron> <message>` ‚Äî –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ (cron-—Ñ–æ—Ä–º–∞—Ç)
  - `/listtasks` ‚Äî –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –≤ —á–∞—Ç–µ

---

## [0.2.0] - 2025-10-02

### Added
- üóÑÔ∏è **PostgreSQL Integration:**
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –ª–∏–º–∏—Ç–æ–≤, –Ω–∞—Å—Ç—Ä–æ–µ–∫
  - –ú–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `migrations/001_initial_schema.sql`

- **Commands:**
  - `/version` ‚Äî –í–µ—Ä—Å–∏—è –±–æ—Ç–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
  - `/activestats` ‚Äî –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
  - `/totalmessages` ‚Äî –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ

### Changed
- –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç In-Memory –∫ PostgreSQL –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## [0.1.0] - 2025-10-01

### Added
- üéâ **–ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑!**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Go
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram Bot API —á–µ—Ä–µ–∑ `telebot.v3`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ JSON

---

## Versioning Strategy

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç [Semantic Versioning](https://semver.org/lang/ru/):

- **MAJOR (X.0.0):** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∏
- **MINOR (0.X.0):** –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- **PATCH (0.0.X):** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤, –º–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** Alpha (v0.x.x) ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, API –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è.
