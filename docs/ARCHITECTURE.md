# BMFT Bot - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–°–ª–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#—Å–ª–æ–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
3. [–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞](#–º–æ–¥—É–ª—å–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞)
4. [Pipeline –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π](#pipeline-–æ–±—Ä–∞–±–æ—Ç–∫–∏-—Å–æ–æ–±—â–µ–Ω–∏–π)
5. [–î–∏–∞–≥—Ä–∞–º–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#–¥–∏–∞–≥—Ä–∞–º–º—ã-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
6. [–ü—Ä–∞–≤–∏–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π](#–ø—Ä–∞–≤–∏–ª–∞-–¥–æ–±–∞–≤–ª–µ–Ω–∏—è-–Ω–æ–≤—ã—Ö-–º–æ–¥—É–ª–µ–π)

---

## –û–±–∑–æ—Ä

**BMFT** (–ë–∞–∑–æ–≤—ã–π –ú–æ–¥—É–ª—å–Ω—ã–π –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–≤) ‚Äî —ç—Ç–æ Go-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ **—á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ** —Å —è–≤–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ—ë–≤.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Module`
- ‚úÖ **Dependency Injection** ‚Äî –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- ‚úÖ **Repository Pattern** ‚Äî –≤—Å—è —Ä–∞–±–æ—Ç–∞ —Å –ë–î –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
- ‚úÖ **Middleware Chain** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ pipeline
- ‚úÖ **–Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî –Ω–∏–∫–∞–∫–∏—Ö panic, –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```
cmd/bot/              ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
internal/core/        ‚Äî —è–¥—Ä–æ: –∫–æ–Ω—Ç–µ–∫—Å—Ç, middleware, —Ö–µ–ª–ø–µ—Ä—ã
internal/modules/     ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (limiter, reactions, statistics, etc.)
internal/postgresql/  ‚Äî —Å–ª–æ–π –ë–î (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –º–∏–≥—Ä–∞—Ü–∏–∏)
```

---

## –°–ª–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. **–°–ª–æ–π cmd (Application Layer)**
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `cmd/bot/`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π —Å DI
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è middleware –∏ –∫–æ–º–∞–Ω–¥
- –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**–§–∞–π–ª—ã:**
- `main.go` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, setup
- `handlers.go` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ (`/start`, `/help`, `/version`, etc.)

**–ü—Ä–∏–º–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª—è:**
```go
limiterModule := limiter.New(
    db,
    vipRepo,
    contentLimitsRepo,
    eventRepo,
    logger,
    bot,
)
bot.Use(limiterModule.OnMessage)
limiterModule.RegisterCommands(bot)
```

---

### 2. **–°–ª–æ–π core (Domain Layer)**
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `internal/core/`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –º–æ–¥—É–ª–µ–π
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π (`MessageContext`)
- Middleware chain
- –•–µ–ª–ø–µ—Ä—ã (GetThreadID, DetectContentType)

**–§–∞–π–ª—ã:**
- `module.go` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Module`
- `middleware.go` ‚Äî middleware —Ü–µ–ø–æ—á–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- `helpers.go` ‚Äî —É—Ç–∏–ª–∏—Ç—ã (`GetThreadID`, `DetectContentType`)
- `context.go` ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–¥—É–ª—è:**
```go
type Module interface {
    OnMessage(ctx *MessageContext) error
    RegisterCommands(bot *tele.Bot)
}
```

**MessageContext:**
```go
type MessageContext struct {
    Message  *tele.Message
    Chat     *tele.Chat
    Sender   *tele.User
    Bot      *tele.Bot
    StopPropagation bool // –µ—Å–ª–∏ true, —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–¥—É–ª–∏ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è
}
```

---

### 3. **–°–ª–æ–π modules (Business Logic Layer)**
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `internal/modules/`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ pipeline
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏

**–ú–æ–¥—É–ª–∏:**
- `limiter/` ‚Äî –ª–∏–º–∏—Ç—ã –Ω–∞ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, etc.)
- `reactions/` ‚Äî –∞–≤—Ç–æ—Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- `statistics/` ‚Äî —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `scheduler/` ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (cron)
- `textfilter/` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ (—Ä–µ–≥—É–ª—è—Ä–∫–∏)
- `profanityfilter/` ‚Äî —Ñ–∏–ª—å—Ç—Ä –º–∞—Ç–∞
- `maintenance/` ‚Äî —Ä–µ–∂–∏–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è:**
```
limiter/
  ‚îú‚îÄ‚îÄ limiter.go          ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
  ‚îú‚îÄ‚îÄ commands.go         ‚Äî –∫–æ–º–∞–Ω–¥—ã (/setlimit, /showlimits, etc.)
```

**–ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:**
```go
func (m *LimiterModule) OnMessage(ctx *core.MessageContext) error {
    // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º VIP —Å—Ç–∞—Ç—É—Å
    isVIP, _ := m.vipRepo.IsVIP(ctx.Chat.ID, threadID, ctx.Sender.ID)
    if isVIP {
        return nil // VIP –Ω–µ –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç–æ–≤
    }

    // 2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    contentType := core.DetectContentType(ctx.Message)

    // 3. –ü–æ–ª—É—á–∞–µ–º –ª–∏–º–∏—Ç—ã
    limit, _ := m.contentLimitsRepo.GetLimitForContentType(...)

    // 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ
    if count >= limit {
        ctx.Bot.Delete(ctx.Message) // —É–¥–∞–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        ctx.StopPropagation = true  // –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º pipeline
    }

    return nil
}
```

---

### 4. **–°–ª–æ–π postgresql (Infrastructure Layer)**
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `internal/postgresql/`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –†–∞–±–æ—Ç–∞ —Å PostgreSQL
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã
- –ò–∑–æ–ª—è—Ü–∏—è SQL

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
postgresql/
  ‚îú‚îÄ‚îÄ migrations/        ‚Äî —Å—Ö–µ–º–∞ –ë–î
  ‚îÇ   ‚îî‚îÄ‚îÄ migrations.go
  ‚îî‚îÄ‚îÄ repositories/      ‚Äî —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (7 —Ñ–∞–π–ª–æ–≤)
      ‚îú‚îÄ‚îÄ chat_repository.go
      ‚îú‚îÄ‚îÄ event_repository.go
      ‚îú‚îÄ‚îÄ settings_repository.go
      ‚îú‚îÄ‚îÄ vip_repository.go
      ‚îú‚îÄ‚îÄ content_limits_repository.go
      ‚îú‚îÄ‚îÄ scheduler_repository.go
      ‚îú‚îÄ‚îÄ message_repository.go
```

**Repository Pattern:**
```go
type ChatRepository struct {
    db *sql.DB
}

func (r *ChatRepository) GetOrCreate(chatID int64, chatType, title, username string) error {
    query := `INSERT INTO chats ... ON CONFLICT DO UPDATE ...`
    _, err := r.db.Exec(query, chatID, chatType, title, username)
    return err
}
```

---

## –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Module
–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç 2 –º–µ—Ç–æ–¥–∞:
```go
type Module interface {
    OnMessage(ctx *MessageContext) error      // –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
    RegisterCommands(bot *tele.Bot)           // —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
}
```

### –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π
- ‚ùå **–ú–æ–¥—É–ª–∏ –ù–ï –î–û–õ–ñ–ù–´ –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–∞–ø—Ä—è–º—É—é**
- ‚úÖ **–ú–æ–¥—É–ª–∏ –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `MessageContext`**
- ‚úÖ **–ú–æ–¥—É–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ DI**

### –ü—Ä–∏–º–µ—Ä –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
```go
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî –º–æ–¥—É–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π –º–æ–¥—É–ª—å
func (m *LimiterModule) OnMessage(ctx *core.MessageContext) error {
    m.statisticsModule.IncrementCounter(...) // –ù–ï –î–ï–õ–ê–ô –¢–ê–ö!
}
```

### –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
```go
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û ‚Äî –º–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
func (m *LimiterModule) OnMessage(ctx *core.MessageContext) error {
    m.messageRepo.SaveMessage(...) // –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
}
```

---

## Pipeline –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—á–µ—Ä–µ–∑ middleware)

**cmd/bot/main.go:**
```go
// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:
bot.Use(maintenanceModule.OnMessage)   // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
bot.Use(limiterModule.OnMessage)       // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
bot.Use(textFilterModule.OnMessage)    // 3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
bot.Use(profanityModule.OnMessage)     // 4. –§–∏–ª—å—Ç—Ä –º–∞—Ç–∞
bot.Use(reactionsModule.OnMessage)     // 5. –ê–≤—Ç–æ—Ä–µ–∞–∫—Ü–∏–∏
bot.Use(statisticsModule.OnMessage)    // 6. –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç pipeline:
1. –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –±–æ—Ç
2. –ü—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–π middleware –ø–æ –ø–æ—Ä—è–¥–∫—É
3. –ú–æ–¥—É–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–ø–æ—á–∫—É: `ctx.StopPropagation = true`
4. –ï—Å–ª–∏ –º–æ–¥—É–ª—å –≤–µ—Ä–Ω—É–ª `error`, –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –Ω–æ —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

### –ö–æ–≥–¥–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å pipeline:
```go
// –ü—Ä–∏–º–µ—Ä –∏–∑ limiter.go:
if count >= limit {
    ctx.Bot.Delete(ctx.Message)
    ctx.StopPropagation = true // –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ
    return nil
}
```

---

## –î–∏–∞–≥—Ä–∞–º–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–æ—ë–≤
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     cmd/bot (Application Layer)         ‚îÇ
‚îÇ  main.go, handlers.go                   ‚îÇ
‚îÇ  –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ depends on
               v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   internal/modules (Business Logic)     ‚îÇ
‚îÇ  limiter, reactions, statistics, etc.   ‚îÇ
‚îÇ  –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –∫–æ–º–∞–Ω–¥—ã                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ depends on
               v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    internal/core (Domain Layer)         ‚îÇ
‚îÇ  Module interface, MessageContext       ‚îÇ
‚îÇ  Middleware, —Ö–µ–ª–ø–µ—Ä—ã                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ depends on
               v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  internal/postgresql (Infrastructure)   ‚îÇ
‚îÇ  Repositories, Migrations               ‚îÇ
‚îÇ  SQL, CRUD                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. Dependency Injection
```
main.go
  ‚îú‚îÄ‚îÄ DB Connection
  ‚îÇ
  ‚îú‚îÄ‚îÄ Repositories
  ‚îÇ   ‚îú‚îÄ‚îÄ ChatRepository(db)
  ‚îÇ   ‚îú‚îÄ‚îÄ VIPRepository(db)
  ‚îÇ   ‚îú‚îÄ‚îÄ ContentLimitsRepository(db)
  ‚îÇ   ‚îú‚îÄ‚îÄ MessageRepository(db, logger)
  ‚îÇ   ‚îî‚îÄ‚îÄ EventRepository(db)
  ‚îÇ
  ‚îî‚îÄ‚îÄ Modules
      ‚îú‚îÄ‚îÄ LimiterModule(db, vipRepo, limitsRepo, eventRepo, logger, bot)
      ‚îú‚îÄ‚îÄ ReactionsModule(db, eventRepo, logger, bot)
      ‚îú‚îÄ‚îÄ StatisticsModule(db, eventRepo, logger, bot)
      ‚îî‚îÄ‚îÄ SchedulerModule(db, schedulerRepo, logger, bot)
```

### 3. Pipeline Flow
```
[User Message]
     ‚îÇ
     v
[Maintenance Check] ‚îÄ‚îÄ‚ùå reject‚îÄ‚îÄ> [403 Bot in maintenance]
     ‚îÇ‚úÖ pass
     v
[Limiter Check] ‚îÄ‚îÄ‚ùå over limit‚îÄ‚îÄ> [Delete + Warning]
     ‚îÇ‚úÖ pass
     v
[Text Filter] ‚îÄ‚îÄ‚ùå banned regex‚îÄ‚îÄ> [Delete]
     ‚îÇ‚úÖ pass
     v
[Profanity Filter] ‚îÄ‚îÄ‚ùå bad words‚îÄ‚îÄ> [Delete + Warning]
     ‚îÇ‚úÖ pass
     v
[Reactions] ‚îÄ‚îÄ‚úÖ add emoji‚îÄ‚îÄ> [Reaction added]
     ‚îÇ
     v
[Statistics] ‚îÄ‚îÄ‚úÖ log‚îÄ‚îÄ> [Save to messages table]
     ‚îÇ
     v
[User sees message]
```

---

## –ü—Ä–∞–≤–∏–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥—É–ª—è
```go
package mymodule

type MyModule struct {
    db     *sql.DB
    myRepo *repositories.MyRepository
    logger *zap.Logger
    bot    *tele.Bot
}

func New(db *sql.DB, myRepo *repositories.MyRepository, logger *zap.Logger, bot *tele.Bot) *MyModule {
    return &MyModule{
        db:     db,
        myRepo: myRepo,
        logger: logger,
        bot:    bot,
    }
}
```

### 2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Module
```go
func (m *MyModule) OnMessage(ctx *core.MessageContext) error {
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    return nil
}

func (m *MyModule) RegisterCommands(bot *tele.Bot) {
    bot.Handle("/mycommand", m.handleMyCommand)
}
```

### 3. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
```
internal/postgresql/repositories/
  ‚îî‚îÄ‚îÄ my_repository.go
```

```go
type MyRepository struct {
    db *sql.DB
}

func NewMyRepository(db *sql.DB) *MyRepository {
    return &MyRepository{db: db}
}

func (r *MyRepository) DoSomething() error {
    // SQL –æ–ø–µ—Ä–∞—Ü–∏–∏
    return nil
}
```

### 4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª—å –≤ main.go
```go
// –°–æ–∑–¥–∞—ë–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
myRepo := repositories.NewMyRepository(db)

// –°–æ–∑–¥–∞—ë–º –º–æ–¥—É–ª—å —Å DI
myModule := mymodule.New(db, myRepo, logger, bot)

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º middleware (–º–µ—Å—Ç–æ –≤ pipeline –≤–∞–∂–Ω–æ!)
bot.Use(myModule.OnMessage)

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã
myModule.RegisterCommands(bot)
```

### 5. –û–±–Ω–æ–≤–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ë–î)
```go
// internal/postgresql/migrations/migrations.go
func Run(db *sql.DB) error {
    tables := []string{
        `CREATE TABLE IF NOT EXISTS my_table (...)`,
        // –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
    }
}
```

### ‚úÖ Checklist –¥–ª—è –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è:
- [ ] –ú–æ–¥—É–ª—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç `core.Module` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –ú–æ–¥—É–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (DI)
- [ ] –ú–æ–¥—É–ª—å –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω –≤ `repositories/` (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ë–î)
- [ ] –ú–æ–¥—É–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `main.go`
- [ ] –ö–æ–º–∞–Ω–¥—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ `RegisterCommands()`
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —á–µ—Ä–µ–∑ `zap.Logger`
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

---

## –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### –í–æ–ø—Ä–æ—Å: –ú–æ–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å 10+ –º–æ–¥—É–ª–µ–π –±–µ–∑ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞?
**–û—Ç–≤–µ—Ç: –î–ê**, –µ—Å–ª–∏ —Å–æ–±–ª—é–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞:

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:
- –ú–æ–¥—É–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã ‚Äî –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- Pipeline –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `main.go`
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ–∞–π–ª–∞–º (–Ω–µ—Ç 1000-—Å—Ç—Ä–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)

### ‚ùå –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ (–ø—Ä–∏–≤–µ–¥—É—Ç –∫ –º–æ–Ω–æ–ª–∏—Ç—É):
- –ú–æ–¥—É–ª–∏ –≤—ã–∑—ã–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–∞–ø—Ä—è–º—É—é
- –û–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –≤—Å—ë (–∫–∞–∫ –±—ã–ª `all.go` –Ω–∞ 929 —Å—Ç—Ä–æ–∫)
- –ú–æ–¥—É–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π, –∞ –Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ `main.go` –∏–ª–∏ `handlers.go`

### –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è 8:
```go
// 1. –°–æ–∑–¥–∞—ë–º –º–æ–¥—É–ª—å
module8 := module8.New(db, repo8, logger, bot)

// 2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –≤ pipeline (–º–µ—Å—Ç–æ –≤–∞–∂–Ω–æ!)
bot.Use(limiterModule.OnMessage)       // –î–û –º–æ–¥—É–ª—è 8 (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –ª–∏–º–∏—Ç)
bot.Use(module8.OnMessage)             // <-- –ù–û–í–´–ô –ú–û–î–£–õ–¨
bot.Use(statisticsModule.OnMessage)    // –ü–û–°–õ–ï –º–æ–¥—É–ª—è 8 (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è)

// 3. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã
module8.RegisterCommands(bot)
```

**–í—ã–≤–æ–¥:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è 10-15 –º–æ–¥—É–ª–µ–π –±–µ–∑ –ø–µ—Ä–µ–¥–µ–ª–æ–∫!

---

## FAQ

### Q: –ü–æ—á–µ–º—É Go-–ø—Ä–æ–µ–∫—Ç –≤ 8 —Ä–∞–∑ –±–æ–ª—å—à–µ Python –≤–µ—Ä—Å–∏–∏?
**A:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- Go —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- Enterprise patterns (DI, Repository, Middleware) –¥–æ–±–∞–≤–ª—è—é—Ç —Å—Ç—Ä–æ–∫
- –õ—É—á—à–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ—ë–≤ (–≤ Python –≤—Å—ë –≤ 1-2 —Ñ–∞–π–ª–∞—Ö)
- –ë–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (7 –º–æ–¥—É–ª–µ–π vs 3 –≤ Python)

### Q: –ù—É–∂–Ω–∞ –ª–∏ –≥–ª—É–±–æ–∫–∞—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞?
**A:** –ù–ï–¢. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ü–µ–Ω–µ–Ω–∞ –Ω–∞ **8/10**. –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Ç–æ—á–µ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- ‚úÖ –†–∞–∑–±–∏—Ç—å `all.go` –Ω–∞ 7 —Ñ–∞–π–ª–æ–≤ (—Å–¥–µ–ª–∞–Ω–æ)
- ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ `detectContentType()` –≤ `core/helpers.go` (—Å–¥–µ–ª–∞–Ω–æ)
- üîÑ –î–æ–±–∞–≤–∏—Ç—å —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- üîú –°–¥–µ–ª–∞—Ç—å Pipeline —è–≤–Ω—ã–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Q: –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å monolith –ø—Ä–∏ —Ä–æ—Å—Ç–µ?
**A:** –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ: **–º–æ–¥—É–ª–∏ –ù–ï –≤—ã–∑—ã–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞**
- ‚úÖ –û–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `MessageContext`
- ‚úÖ –û–±—â–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- ‚ùå –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

### Q: –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã?
**A:** `internal/core/helpers.go`
- `GetThreadID()` ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π thread_id –¥–ª—è —Ñ–æ—Ä—É–º–æ–≤
- `DetectContentType()` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –î–æ–±–∞–≤–ª—è–π –Ω–æ–≤—ã–µ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

**v0.9.0 (2025-01-21):**
- ‚úÖ –†–∞–∑–±–∏—Ç `all.go` (929 —Å—Ç—Ä–æ–∫) –Ω–∞ 7 —Ñ–∞–π–ª–æ–≤
- ‚úÖ –£–¥–∞–ª—ë–Ω deprecated `StatisticsRepository`
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `DetectContentType()` ‚Üí `core.DetectContentType()`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**v0.8.0:**
- –ü–µ—Ä–µ—Ö–æ–¥ —Å `content_counters` –Ω–∞ `messages` —Å JSONB metadata
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–ø–∏–∫–æ–≤ –≤ —Ñ–æ—Ä—É–º–∞—Ö

**v0.7.0:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–¥—É–ª–∏: scheduler, textfilter, profanityfilter
- Middleware chain –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

---

## –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π –∫–∞–∫ —Ö–æ—á–µ—à—å!

---

**–ê–≤—Ç–æ—Ä:** FlyBasist  
**–î–∞—Ç–∞:** 21 –¥–µ–∫–∞–±—Ä—è 2025 –≥.
